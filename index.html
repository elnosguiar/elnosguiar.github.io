<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EPIC UNIVERSE</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    height: 100%;
    background: black;
    font-family: Arial;
    touch-action: none;
  }

  /* 네뷸라 구름 */
  .nebula {
    position: absolute;
    width: 200vw;
    height: 200vh;
    top: -50vh;
    left: -50vw;
    background: radial-gradient(circle,
        rgba(80,0,255,0.25) 0%,
        rgba(0,0,0,0) 70%);
    mix-blend-mode: screen;
    animation: nebulaSpin 100s linear infinite;
    pointer-events: none;
  }
  .nebula:nth-child(2) {
    background: radial-gradient(circle,
        rgba(0,180,255,0.18) 0%,
        rgba(0,0,0,0) 70%);
    animation-duration: 140s;
    transform-origin: 80% 20%;
  }

  @keyframes nebulaSpin {
    from { transform: rotate(0deg) scale(1); }
    to { transform: rotate(360deg) scale(1.2); }
  }

  /* 중앙 텍스트 */
  .title {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #ffffffd0;
    font-size: 3rem;
    text-align: center;
    letter-spacing: 5px;
    text-shadow: 0 0 10px #6fa3ff, 0 0 25px #4683ff;
    z-index: 999;
    animation: pulse 4s infinite ease-in-out;
    user-select: none;
  }

  @keyframes pulse {
    0%   { opacity: .5; transform: translate(-50%, -50%) scale(.95); }
    50%  { opacity: 1; transform: translate(-50%, -50%) scale(1.05); }
    100% { opacity: .5; transform: translate(-50%, -50%) scale(.95); }
  }

  @media (max-width: 600px) {
    .title {
      font-size: 1.8rem;
      letter-spacing: 3px;
    }
  }
</style>
</head>
<body>

<div class="nebula"></div>
<div class="nebula"></div>
<canvas id="space"></canvas>

<div class="title">EPIC UNIVERSE</div>

<script>
/* ===========================
     EPIC 3D STARFIELD CANVAS
   ===========================*/

const canvas = document.getElementById("space");
const ctx = canvas.getContext("2d");

let w, h;
function resize() {
  w = canvas.width = window.innerWidth;
  h = canvas.height = window.innerHeight;
}
window.addEventListener("resize", resize);
resize();

// 별 생성
let stars = [];
let starCount = 1200;
let focal = 500;
function initStars() {
  stars = [];
  for (let i = 0; i < starCount; i++) {
    stars.push({
      x: (Math.random() - 0.5) * w,
      y: (Math.random() - 0.5) * h,
      z: Math.random() * focal,
      speed: 0.2 + Math.random() * 1
    });
  }
}
initStars();

// 유성(슈팅스타)
let meteors = [];
function spawnMeteor() {
  const angle = Math.random() * Math.PI / 2 + Math.PI / 4;
  meteors.push({
    x: Math.random() * w,
    y: 0,
    vx: Math.cos(angle) * (3 + Math.random() * 3),
    vy: Math.sin(angle) * (3 + Math.random() * 3),
    life: 0,
    maxLife: 100 + Math.random() * 80
  });
}
setInterval(spawnMeteor, 2000 + Math.random() * 2000);

// 애니메이션
function animate() {
  ctx.clearRect(0, 0, w, h);

  /* ---- 별 그리기 ---- */
  for (let s of stars) {
    s.z -= s.speed;
    if (s.z <= 0) {
      s.z = focal;
      s.x = (Math.random() - 0.5) * w;
      s.y = (Math.random() - 0.5) * h;
    }

    let k = focal / s.z;
    let px = s.x * k + w / 2;
    let py = s.y * k + h / 2;

    ctx.fillStyle = "rgba(255,255,255," + (1 - s.z / focal) + ")";
    ctx.beginPath();
    ctx.arc(px, py, 1.5 + (1 - s.z / focal) * 2, 0, Math.PI * 2);
    ctx.fill();
  }

  /* ---- 유성 그리기 ---- */
  for (let i = meteors.length - 1; i >= 0; i--) {
    const m = meteors[i];
    m.x += m.vx;
    m.y += m.vy;
    m.life++;

    ctx.strokeStyle = "rgba(180,200,255," + (1 - m.life / m.maxLife) + ")";
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(m.x, m.y);
    ctx.lineTo(m.x - m.vx * 5, m.y - m.vy * 5);
    ctx.stroke();

    if (m.life >= m.maxLife) meteors.splice(i, 1);
  }

  requestAnimationFrame(animate);
}
animate();
</script>

</body>
</html>
