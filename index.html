<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>강렬한 3D 에너지장</title>
    <style>
        /* --------------------------------------
         * 1. 초기화 및 3D 공간 설정
         * -------------------------------------- */
        :root {
            --dark-background: #00000a;
            --energy-color: #ff0055; /* 마젠타/레드 계열의 강렬한 색상 */
            --glow-color: #ff55aa;
        }

        body {
            margin: 0;
            padding: 0;
            background: var(--dark-background); 
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
            /* 3D 깊이감을 위한 원근법 설정 */
            perspective: 800px; 
            position: relative;
        }

        /* --------------------------------------
         * 2. 메인 컨테이너 및 3D 설정
         * -------------------------------------- */
        .portal-container {
            width: 100%;
            height: 100%;
            position: absolute;
            transform-style: preserve-3d; /* 3D 자식 요소를 유지 */
            /* 전체를 천천히 회전시켜 웅장함을 더함 */
            animation: slow-container-spin 60s linear infinite;
        }

        @keyframes slow-container-spin {
            from { transform: rotateY(0deg) rotateX(0deg); }
            to { transform: rotateY(360deg) rotateX(360deg); }
        }

        /* --------------------------------------
         * 3. 큐브 입자 스타일
         * -------------------------------------- */
        .cube-particle {
            position: absolute;
            width: var(--size);
            height: var(--size);
            background: rgba(255, 0, 85, 0.6); 
            box-shadow: 0 0 5px var(--energy-color), 0 0 15px var(--glow-color);
            opacity: 0;
            
            /* 3D 변환을 위한 설정 */
            transform-style: preserve-3d;
            
            /* 핵심 펄스/붕괴 애니메이션 */
            animation: pulse-and-rotate var(--duration) linear infinite alternate;
        }

        /* --------------------------------------
         * 4. 펄스 및 3D 회전 키프레임
         * -------------------------------------- */
        @keyframes pulse-and-rotate {
            0% {
                opacity: 0;
                transform: 
                    translate3d(var(--x1), var(--y1), var(--z1)) 
                    rotateX(0deg) rotateY(0deg) scale3d(0.5, 0.5, 0.5);
            }
            50% {
                opacity: 1;
                box-shadow: 0 0 10px var(--energy-color), 0 0 30px var(--glow-color);
            }
            100% {
                opacity: 0.2;
                transform: 
                    translate3d(var(--x2), var(--y2), var(--z2)) 
                    rotateX(360deg) rotateY(360deg) scale3d(1.5, 1.5, 1.5);
            }
        }
    </style>
</head>
<body>
    <div class="portal-container" id="particle-container">
        </div>

    <script>
        const container = document.getElementById('particle-container');
        const numParticles = 40; // 3D 효과를 위해 입자 수는 50개 이하로 유지

        for (let i = 0; i < numParticles; i++) {
            const particle = document.createElement('div');
            particle.classList.add('cube-particle');
            
            // --- 랜덤 속성 생성 ---
            
            // 크기 (5px ~ 20px)
            const size = Math.random() * 15 + 5; 
            particle.style.setProperty('--size', `${size}px`);

            // 애니메이션 지속 시간 (8초 ~ 18초)
            const duration = Math.random() * 10 + 8;
            particle.style.setProperty('--duration', `${duration}s`);

            // --- 3D 위치 변수 설정 ---
            // 3D 공간 (-500px ~ 500px) 내에서 움직이도록 설정
            const range = 500; 

            // 시작 위치 (x1, y1, z1)
            const x1 = `${Math.random() * range * 2 - range}px`; 
            const y1 = `${Math.random() * range * 2 - range}px`; 
            const z1 = `${Math.random() * range * 2 - range}px`; 

            // 끝 위치 (x2, y2, z2)
            const x2 = `${Math.random() * range * 2 - range}px`; 
            const y2 = `${Math.random() * range * 2 - range}px`; 
            const z2 = `${Math.random() * range * 2 - range}px`; 
            
            // CSS 변수 적용
            particle.style.setProperty('--x1', x1);
            particle.style.setProperty('--y1', y1);
            particle.style.setProperty('--z1', z1);
            particle.style.setProperty('--x2', x2);
            particle.style.setProperty('--y2', y2);
            particle.style.setProperty('--z2', z2);

            // 애니메이션 시작 지연
            particle.style.animationDelay = `${Math.random() * 5}s`;

            container.appendChild(particle);
        }
    </script>
</body>
</html>
